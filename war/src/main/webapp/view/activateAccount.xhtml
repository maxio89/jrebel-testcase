<!DOCTYPE html>
<html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:cu="http://java.sun.com/jsf/composite/components" xmlns:f="http://java.sun.com/jsf/core" xmlns:s="http://jboss.org/seam/faces"
                template="/layout/template.xhtml">

    <f:metadata>
        <f:viewParam name="email" value="#{activateAccountView.email}"/>
        <f:viewParam name="token" value="#{activateAccountView.token}"/>
        <s:viewAction action="#{activateAccountView.activate}" onPostback="#{false}"/>
    </f:metadata>

    <ui:param name="bodyStyleClass" value="forgot-password"/>

    <ui:define name="body">

        <cu:underlinedHeader value="#{messages['view.activateAccount.header']}"/>

        <!-- content area -->

        <div class="row-fluid">
            <h:panelGroup rendered="#{not identity.loggedIn}">
                <h:panelGroup rendered="#{activateAccountView.activationAttempt}">
                    <h:panelGroup rendered="#{activateAccountView.activationSuccess}">
                        <div class="alert alert-success">
                            <h3>#{messages['view.activateAccount.activationSuccess']} </h3>
                        </div>
                    </h:panelGroup>
                    <h:panelGroup rendered="#{not activateAccountView.activationSuccess}">
                        <div class="alert alert-error">
                            <h3> #{messages['view.activateAccount.activationFailure']} </h3>
                        </div>
                    </h:panelGroup>
                </h:panelGroup>
                <h:panelGroup rendered="#{not activateAccountView.activationAttempt}">
                    <div class="alert alert-info">
                        <h3> #{messages['view.activateAccount.readEmail']}</h3>
                    </div>
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup rendered="#{identity.loggedIn}">
                <div class="alert alert-info">
                    <h3>#{messages['view.activateAccount.mayNotBeLoggedIn']}</h3>
                </div>
            </h:panelGroup>
        </div>
    </ui:define>
</ui:composition>
</html>
